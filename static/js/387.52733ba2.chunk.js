"use strict";(self.webpackChunkapp1=self.webpackChunkapp1||[]).push([[387],{1387:function(t,e,s){s.r(e),s.d(e,{default:function(){return U}});var n=s(359),r=s(5671),i=s(3144),o=s(136),u=s(2882),a=s(2791),l=s(8687),c=s(2363),p=s(885),h=s(3840),d=s(184);var f=(0,l.$j)(null,{updateUserStatusThunk:h.Gk})((function(t){var e=(0,a.useState)(!1),s=(0,p.Z)(e,2),n=s[0],r=s[1],i=(0,a.useState)(t.status),o=(0,p.Z)(i,2),u=o[0],l=o[1],c=(0,a.useState)(0),h=(0,p.Z)(c,2),f=h[0],x=h[1];return(0,a.useEffect)((function(){l(t.status)}),[t.status]),(0,d.jsxs)("div",{children:[n?(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(t){return l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateUserStatusThunk(u)},value:u})}):(0,d.jsxs)("div",{onDoubleClick:function(){return r(!0)},children:["Status: ",u||"default"]}),(0,d.jsxs)("div",{children:["Count: ",f," ",(0,d.jsx)("button",{style:{padding:"5px"},onClick:function(){return x(f+=1)},children:" + "}),(0,d.jsx)("button",{style:{padding:"5px"},onClick:function(){return x(f-=1)},children:" - "})]})]})})),x=s(4387),j=(0,l.$j)((function(t){return{status:t.articlesPage.status}}))((function(t){return t.profile?(0,d.jsxs)("div",{children:[t.profile.photos.small?(0,d.jsx)("img",{src:t.profile.photos.small,alt:""}):(0,d.jsx)("img",{src:x,alt:""}),t.isOwner?(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"file",name:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}})}):"",(0,d.jsxs)("div",{className:"block__content",children:[(0,d.jsx)("div",{className:"block__content_img",children:(0,d.jsx)("img",{src:"#",alt:""})}),(0,d.jsx)("div",{children:t.isAuth?"Status: "+t.profile.aboutMe:(0,d.jsx)(f,(0,n.Z)((0,n.Z)({},t),{},{status:t.status}))}),(0,d.jsxs)("div",{className:"block__content_info",style:{display:"flex",flexDirection:"column"},children:[(0,d.jsxs)("p",{children:["Name:",t.profile.fullName]}),(0,d.jsxs)("p",{children:["Job:",t.profile.lookingForAJobDescription]}),(0,d.jsxs)("p",{children:["Address:",t.profile.contacts.github]})]})]})]}):(0,d.jsx)(c.Z,{})})),m=s(6139),v=s(704),k=s(1634),g=s(8300),b=function(t){return(0,d.jsx)("div",{className:"block__comments_item",children:(0,d.jsxs)("p",{children:[t.messages," ",(0,d.jsxs)("span",{children:["Likes:",t.like]})]})})},P=function(t){(0,o.Z)(s,t);var e=(0,u.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"onSubmit",value:function(t){this.props.addPost(t.messageBody)}},{key:"getPostData",value:function(){return this.props.articlesPage.postData.map((function(t){return(0,d.jsx)(b,{messages:t.messages,like:t.like},t.id)}))}},{key:"render",value:function(){return(0,d.jsxs)("div",{className:"block__posts",children:[(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:"POSTS:"})}),(0,d.jsx)("div",{className:"block__comments",children:this.getPostData()}),(0,d.jsx)("div",{className:"block__posts_input",children:(0,d.jsx)(y,{onSubmit:this.onSubmit.bind(this)})})]})}}]),s}(a.PureComponent),Z=(0,k.B)(10),y=(0,v.Z)({form:"myPost"})((function(t){return(0,d.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,d.jsx)(m.Z,{component:g.I,type:"text",name:"messageBody",placeholder:"Enter you post:",validate:[k.l,Z]}),(0,d.jsx)("br",{}),(0,d.jsx)("button",{children:"Send"})]})})),S=P,_=(0,l.$j)((function(t){return{newPostText:t.articlesPage.newPostText,articlesPage:t.articlesPage}}),(function(t){return{addPost:function(e){return t((0,h.Wl)(e))},onPostChange:function(e){return t((0,h.Vd)(e))}}}))(S),T=function(t){return(0,d.jsxs)("article",{children:[(0,d.jsx)(j,{profile:t.profile,isOwner:t.isOwner,savePhoto:t.savePhoto}),(0,d.jsx)(_,{})]})},C=s(7847),D=s(7781),N=function(t){(0,o.Z)(s,t);var e=(0,u.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var t=this;this.props.setDefaultUseridThunk(),this.props.router.match?this.props.setUserProfileThunk(this.props.router.match.params.userid):setTimeout((function(){t.props.setUserProfileThunk(t.props.userid),t.props.getUserStatusThunk(t.props.userid)}),500)}},{key:"render",value:function(){return(0,d.jsx)(T,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:this.props.userid,savePhoto:this.props.savePhoto}))}}]),s}(a.Component),U=(0,D.qC)((0,l.$j)((function(t){return{profile:t.articlesPage.profile,userid:t.articlesPage.userid}}),{setUserProfileThunk:h.TE,setDefaultUseridThunk:h.tZ,getUserStatusThunk:h.$S,savePhoto:h.Ju}),C.D)(N)},7847:function(t,e,s){s.d(e,{D:function(){return d}});var n=s(359),r=s(5671),i=s(3144),o=s(136),u=s(2882),a=s(2791),l=s(6871),c=s(8687),p=s(184),h=function(t){return{isAuth:t.auth.isAuth}},d=function(t){var e=function(e){(0,o.Z)(a,e);var s=(0,u.Z)(a);function a(){return(0,r.Z)(this,a),s.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,n.Z)({},this.props)):(0,p.jsx)(l.Fg,{replace:!0,to:"/login"})}}]),a}(a.Component);return(0,c.$j)(h)(e)}},4387:function(t,e,s){t.exports=s.p+"static/media/users.811261b883b0eb79ca8b.png"}}]);
//# sourceMappingURL=387.52733ba2.chunk.js.map