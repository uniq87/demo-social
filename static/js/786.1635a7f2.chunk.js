"use strict";(self.webpackChunkapp1=self.webpackChunkapp1||[]).push([[786],{5786:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var s=n(1413),r=n(5671),o=n(3144),i=n(136),a=n(2882),c=n(2791),u=n(885),l=n(8687),d=n(2363),p=n(3840),h=n(184);var f=(0,l.$j)(null,{updateUserStatusThunk:p.Gk})((function(e){var t=(0,c.useState)(!1),n=(0,u.Z)(t,2),s=n[0],r=n[1],o=(0,c.useState)(e.status),i=(0,u.Z)(o,2),a=i[0],l=i[1],d=(0,c.useState)(0),p=(0,u.Z)(d,2),f=p[0],m=p[1];return(0,c.useEffect)((function(){l(e.status)}),[e.status]),(0,h.jsxs)("div",{children:[s?(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(e){return l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatusThunk(a)},value:a})}):(0,h.jsxs)("div",{onDoubleClick:function(){return r(!0)},children:["Status: ",a||"default"]}),(0,h.jsxs)("div",{children:["Count: ",f," ",(0,h.jsx)("button",{style:{padding:"5px"},onClick:function(){return m(f+=1)},children:" + "}),(0,h.jsx)("button",{style:{padding:"5px"},onClick:function(){return m(f-=1)},children:" - "})]})]})})),m=n(4387),x=n(6139),j=n(704),v=n(1634),g=n(8300),k=function(e){return(0,h.jsx)(x.Z,(0,s.Z)({component:e.component,validate:e.validate},e))},b=function(e){var t=e.contactName,n=e.error;return console.log(n),(0,h.jsxs)("div",{children:[(0,h.jsxs)("strong",{children:[t,": "]}),k({component:g.I,name:"contacts.".concat(t),placeholder:t,type:"text"})]})},P=(0,j.Z)({form:"profileEdit"})((function(e){var t=e.handleSubmit,n=e.error,s=e.initialValues;return(0,h.jsxs)("form",{onSubmit:t,children:[(0,h.jsx)("strong",{children:"Full name: "}),k({component:g.I,name:"fullName",placeholder:"full name:",validate:[v.l],type:"text"}),(0,h.jsx)("strong",{children:"Luking for job: "}),k({component:g.I,name:"lookingForAJob",type:"checkbox"}),(0,h.jsx)("strong",{children:"My professional skills: "}),k({component:g.K,name:"lookingForAJobDescription"}),(0,h.jsx)("strong",{children:"About me: "}),k({component:g.I,name:"aboutMe",placeholder:"about me",validate:[v.l],type:"text"}),(0,h.jsx)("strong",{children:"Contacts: "}),Object.keys(s.contacts).map((function(e){return(0,h.jsx)(b,{contactName:e,error:n})})),n&&(0,h.jsx)("div",{style:{background:"red",color:"white",fontWeight:"bold",marginTop:"5px"},children:n}),(0,h.jsx)("button",{children:"Save"})]})})),Z=function(e){return console.log(e.profile),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("button",{onClick:e.editModeClick,children:"Edit form"})}),e.profile.photos.small?(0,h.jsx)("img",{src:e.profile.photos.small,alt:""}):(0,h.jsx)("img",{src:m,alt:""}),e.isOwner?(0,h.jsx)("div",{children:(0,h.jsx)("input",{type:"file",name:"file",onChange:e.onMainPhotoSelect})}):"",(0,h.jsxs)("div",{className:"block__content",children:[(0,h.jsx)("div",{className:"block__content_img",children:(0,h.jsx)("img",{src:"#",alt:""})}),(0,h.jsx)("div",{children:e.isAuth?"Status: "+e.profile.aboutMe:(0,h.jsx)(f,(0,s.Z)((0,s.Z)({},e),{},{status:e.status}))}),(0,h.jsxs)("div",{className:"block__content_info",style:{display:"flex",flexDirection:"column"},children:[(0,h.jsxs)("p",{children:["Name:",e.profile.fullName]}),(0,h.jsxs)("p",{children:["Job:",e.profile.lookingForAJob?"yes":"no"]}),(0,h.jsxs)("p",{children:["Address:",e.profile.contacts.github]}),(0,h.jsxs)("div",{children:["Contacts: ",Object.keys(e.profile.contacts).map((function(t){return(0,h.jsx)(y,{contactName:t,contactValue:e.profile.contacts[t]},t)}))]})]})]})]})},y=function(e){var t=e.contactName,n=e.contactValue;return(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:t}),": ",(0,h.jsx)("span",{children:n})]})},S=(0,l.$j)((function(e){return{status:e.articlesPage.status}}))((function(e){var t=(0,c.useState)(!1),n=(0,u.Z)(t,2),r=n[0],o=n[1];if(!e.profile)return(0,h.jsx)(d.Z,{});return(0,h.jsx)(h.Fragment,{children:r?(0,h.jsx)(P,(0,s.Z)({initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){return o(!1)}))}},e)):(0,h.jsx)(Z,(0,s.Z)((0,s.Z)({},e),{},{onMainPhotoSelect:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},editModeClick:function(){o(!0)}}))})})),C=function(e){return(0,h.jsx)("div",{className:"block__comments_item",children:(0,h.jsxs)("p",{children:[e.messages," ",(0,h.jsxs)("span",{children:["Likes:",e.like]})]})})},_=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onSubmit",value:function(e){this.props.addPost(e.messageBody)}},{key:"getPostData",value:function(){return this.props.articlesPage.postData.map((function(e){return(0,h.jsx)(C,{messages:e.messages,like:e.like},e.id)}))}},{key:"render",value:function(){return(0,h.jsxs)("div",{className:"block__posts",children:[(0,h.jsx)("div",{children:(0,h.jsx)("p",{children:"POSTS:"})}),(0,h.jsx)("div",{className:"block__comments",children:this.getPostData()}),(0,h.jsx)("div",{className:"block__posts_input",children:(0,h.jsx)(N,{onSubmit:this.onSubmit.bind(this)})})]})}}]),n}(c.PureComponent),T=(0,v.B)(10),N=(0,j.Z)({form:"myPost"})((function(e){return(0,h.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,h.jsx)(x.Z,{component:g.I,type:"text",name:"messageBody",placeholder:"Enter you post:",validate:[v.l,T]}),(0,h.jsx)("br",{}),(0,h.jsx)("button",{children:"Send"})]})})),D=_,w=(0,l.$j)((function(e){return{newPostText:e.articlesPage.newPostText,articlesPage:e.articlesPage}}),(function(e){return{addPost:function(t){return e((0,p.Wl)(t))},onPostChange:function(t){return e((0,p.Vd)(t))}}}))(D),A=function(e){return(0,h.jsxs)("article",{children:[(0,h.jsx)(S,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,h.jsx)(w,{})]})},U=n(7847),M=n(7781),F=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.setDefaultUseridThunk(),this.props.router.match?this.props.setUserProfileThunk(this.props.router.match.params.userid):setTimeout((function(){e.props.setUserProfileThunk(e.props.userid),e.props.getUserStatusThunk(e.props.userid)}),500)}},{key:"render",value:function(){return(0,h.jsx)(A,(0,s.Z)((0,s.Z)({},this.props),{},{isOwner:this.props.userid,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),n}(c.Component),O=(0,M.qC)((0,l.$j)((function(e){return{profile:e.articlesPage.profile,userid:e.articlesPage.userid}}),{setUserProfileThunk:p.TE,setDefaultUseridThunk:p.tZ,getUserStatusThunk:p.$S,savePhoto:p.Ju,saveProfile:p.Ii}),U.D)(F)},7847:function(e,t,n){n.d(t,{D:function(){return h}});var s=n(1413),r=n(5671),o=n(3144),i=n(136),a=n(2882),c=n(2791),u=n(6871),l=n(8687),d=n(184),p=function(e){return{isAuth:e.auth.isAuth}},h=function(e){var t=function(t){(0,i.Z)(c,t);var n=(0,a.Z)(c);function c(){return(0,r.Z)(this,c),n.apply(this,arguments)}return(0,o.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,s.Z)({},this.props)):(0,d.jsx)(u.Fg,{replace:!0,to:"/login"})}}]),c}(c.Component);return(0,l.$j)(p)(t)}},4387:function(e,t,n){e.exports=n.p+"static/media/users.811261b883b0eb79ca8b.png"}}]);
//# sourceMappingURL=786.1635a7f2.chunk.js.map